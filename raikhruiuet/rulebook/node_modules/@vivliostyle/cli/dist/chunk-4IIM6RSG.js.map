{"version":3,"sources":["../src/const.ts"],"sourcesContent":["import fs from 'node:fs';\nimport { fileURLToPath } from 'node:url';\nimport resolvePkg from 'resolve-pkg';\nimport upath from 'upath';\n\nexport const MANIFEST_FILENAME = 'publication.json';\nexport const TOC_FILENAME = 'index.html';\nexport const TOC_TITLE = 'Table of Contents';\nexport const COVER_HTML_FILENAME = 'cover.html';\nexport const COVER_HTML_IMAGE_ALT = 'Cover image';\n\nexport const XML_DECLARATION = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\nexport const EPUB_OUTPUT_VERSION = '3.0';\nexport const EPUB_MIMETYPE = 'application/epub+zip';\nexport const EPUB_NS = 'http://www.idpf.org/2007/ops';\nexport const EPUB_CONTAINER_XML = `${XML_DECLARATION}\n<container version=\"1.0\" xmlns=\"urn:oasis:names:tc:opendocument:xmlns:container\">\n  <rootfiles>\n    <rootfile full-path=\"EPUB/content.opf\" media-type=\"application/oebps-package+xml\" />\n  </rootfiles>\n</container>`;\nexport const EPUB_LANDMARKS_TITLE = 'Landmarks';\nexport const EPUB_LANDMARKS_TOC_ENTRY = TOC_TITLE;\nexport const EPUB_LANDMARKS_COVER_ENTRY = 'Cover Page';\n\nexport const EMPTY_DATA_URI = 'data:,';\nexport const VIEWER_ROOT_PATH = '/__vivliostyle-viewer';\n\nexport const CONTAINER_URL = 'ghcr.io/vivliostyle/cli';\nexport const CONTAINER_ROOT_DIR = '/data';\n// Special hostname to access host machine from container\n// https://docs.docker.com/desktop/features/networking/#use-cases-and-workarounds\nexport const CONTAINER_LOCAL_HOSTNAME = 'host.docker.internal';\n\nexport const cliRoot = upath.join(fileURLToPath(import.meta.url), '../..');\nexport const cliVersion = (() => {\n  if (import.meta.env?.VITEST) {\n    return '0.0.1';\n  }\n  const pkg = JSON.parse(\n    fs.readFileSync(upath.join(cliRoot, 'package.json'), 'utf8'),\n  );\n  return pkg.version;\n})();\n\nexport const viewerRoot = resolvePkg('@vivliostyle/viewer', { cwd: cliRoot })!;\nexport const coreVersion = (() => {\n  if (import.meta.env?.VITEST) {\n    return '0.0.1';\n  }\n  const pkg = JSON.parse(\n    fs.readFileSync(upath.join(viewerRoot, 'package.json'), 'utf8'),\n  );\n  return pkg.version;\n})();\n"],"mappings":";AAAA,OAAO,QAAQ;AACf,SAAS,qBAAqB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAEX,IAAM,oBAAoB;AAC1B,IAAM,eAAe;AACrB,IAAM,YAAY;AAClB,IAAM,sBAAsB;AAC5B,IAAM,uBAAuB;AAE7B,IAAM,kBAAkB;AACxB,IAAM,sBAAsB;AAE5B,IAAM,UAAU;AAChB,IAAM,qBAAqB,GAAG,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAM7C,IAAM,uBAAuB;AAC7B,IAAM,2BAA2B;AACjC,IAAM,6BAA6B;AAEnC,IAAM,iBAAiB;AACvB,IAAM,mBAAmB;AAEzB,IAAM,gBAAgB;AACtB,IAAM,qBAAqB;AAG3B,IAAM,2BAA2B;AAEjC,IAAM,UAAU,MAAM,KAAK,cAAc,YAAY,GAAG,GAAG,OAAO;AAClE,IAAM,cAAc,MAAM;AAC/B,MAAI,YAAY,KAAK,QAAQ;AAC3B,WAAO;AAAA,EACT;AACA,QAAM,MAAM,KAAK;AAAA,IACf,GAAG,aAAa,MAAM,KAAK,SAAS,cAAc,GAAG,MAAM;AAAA,EAC7D;AACA,SAAO,IAAI;AACb,GAAG;AAEI,IAAM,aAAa,WAAW,uBAAuB,EAAE,KAAK,QAAQ,CAAC;AACrE,IAAM,eAAe,MAAM;AAChC,MAAI,YAAY,KAAK,QAAQ;AAC3B,WAAO;AAAA,EACT;AACA,QAAM,MAAM,KAAK;AAAA,IACf,GAAG,aAAa,MAAM,KAAK,YAAY,cAAc,GAAG,MAAM;AAAA,EAChE;AACA,SAAO,IAAI;AACb,GAAG;","names":[]}